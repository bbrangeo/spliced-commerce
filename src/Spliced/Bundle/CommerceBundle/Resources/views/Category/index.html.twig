{#
	Category/index.html.twig
	@package SplicedCommerceBundle
	@author Gassan Idriss - ghassani@splicedmedia.com

	@var categories
#}

{% extends "SplicedCommerceBundle:Layouts:2columns-left.html.twig" %}

{% block title %}Shop By Category | {{ commerce_get_config('commerce.store.name') }}{% endblock %}

{% block head %}
<link rel="canonical" href="{{ commerce_get_config('commerce.store.url') }}{{ path('catalog_index') }}" />
{% endblock %}

{% macro category_row(category) %}
	{% import _self as renderHelper %}
	<li><a href="{{ path('commerce_category_view_by_slug', { 'slug' : category.urlSlug }) }}">{{ category.name }}</a>
		{% if category.children|length %}
			<ul>
			{% for child in category.children %}
				{{ renderHelper.category_row(child) }}
			{% endfor %}
			</ul>
		{% endif %}
	</li>
{% endmacro %}

{% import _self as renderHelper %}

{% block content %}
<div class="page-header">
    <h1>Category <small>List</small></h1>
</div>
<div class="well well-small">Select a category from the list below.</div>
<ul class="nav nav-list category-list">
{% for category in categories %}
	{{ renderHelper.category_row(category) }}
{% endfor %}
</ul>
{% endblock content %}
